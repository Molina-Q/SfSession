{% extends 'base.html.twig' %}

{% block title %}Details session{% endblock %}
{% block metadesc %}Detail of the session {{ session }}{% endblock %}


{% block body %}
<div class="wrapper-grid">

    <h2 class="secondary title">Details of the session</h2>
    <h1 class="primary-title">{{ session }}</h1>
    
    {# read and display all flash messages #}
    {% for label, messages in app.flashes %}
        {% for message in messages %}
            <div class="flash-{{ label }}">
                {{ message }}
            </div>
        {% endfor %}
    {% endfor %}

    {% if is_granted('ROLE_ADMIN') %}
    <div class="form-create">
        {{ form_start(addProgrammeForm) }}

            {{ form_errors(addProgrammeForm) }}

            <div class="form-content">
                {{ form_row(addProgrammeForm.Module) }}
                {{ form_row(addProgrammeForm.duration) }}
            </div>

            <button type="submit" class="btn btn-primary" >Submit</button>
        {{ form_end(addProgrammeForm) }}
    </div>
    {% endif %} 

    <div class="row-unique table-header">
        <p class="table-item">Module</p>
        <p class="table-item">Duration</p>
    </div>

    <div id="table-information" class="table-list">
        <div class="table-row table-header">
            <h3 class="table-items">Additionnal information</h3>
        </div>

        <div class="table-row">
            <p>From</p> 
            <p>{{ session.dateStart | date('d/m/Y') }}</p>

            <p>To</p> 
            <p>{{ session.dateEnd | date('d/m/Y') }}</p>
        </div>

        <div class="table-row">
            <p>Total places {{ session.nbPlace }}</p>
        </div>

        <div class="table-row">
            <p>Formation</p>
            <strong>{{ session.Formation }}</strong>
        </div>
    </div>

    <div id="table-formation-module" class="table-list">

        {% for programme in session.programmes %}
        <div class="table-row table-header">
            <p class="table-item">{{ programme.module.Tag }}</p>
        </div>

        <div class="table-row">
            <p class="table-item">{{ programme }}</p>
            <p class="table-item">{{ programme.duration }} days</p>       

            <a href="">
                <i class="fa-solid fa-xmark"></i>
            </a>
        </div>   
        {% endfor %}

    </div>

</div>
{% endblock %}
